{"ast":null,"code":"var _jsxFileName = \"/home/mikael/node-projects/2D-breakout-game/client/src/Canvas.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Canvas = props => {\n  _s();\n  const {\n    draw,\n    ...rest\n  } = props;\n  const canvasRef = useRef(null);\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n    let frameCount = 0;\n    let animationFrameId;\n    const render = () => {\n      frameCount++;\n      draw(context, frameCount);\n      animationFrameId = window.requestAnimationFrame(render);\n    };\n    render();\n    return () => {\n      window.cancelAnimationFrame(animationFrameId);\n    };\n  }, [draw]);\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    ref: canvasRef,\n    ...rest\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 10\n  }, this);\n};\n_s(Canvas, \"UJgi7ynoup7eqypjnwyX/s32POg=\");\n_c = Canvas;\nexport default Canvas;\nvar _c;\n$RefreshReg$(_c, \"Canvas\");","map":{"version":3,"names":["React","useRef","useEffect","jsxDEV","_jsxDEV","Canvas","props","_s","draw","rest","canvasRef","canvas","current","context","getContext","frameCount","animationFrameId","render","window","requestAnimationFrame","cancelAnimationFrame","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/mikael/node-projects/2D-breakout-game/client/src/Canvas.js"],"sourcesContent":["import React, { useRef, useEffect } from 'react'\n\nconst Canvas = props => {\n\n  const { draw, ...rest } = props\n  const canvasRef = useRef(null)\n\n  useEffect(() => {\n\n    const canvas = canvasRef.current\n    const context = canvas.getContext('2d')\n    let frameCount = 0\n    let animationFrameId\n\n    const render = () => {\n      frameCount++\n      draw(context, frameCount)\n      animationFrameId = window.requestAnimationFrame(render)\n    }\n    render()\n\n    return () => {\n      window.cancelAnimationFrame(animationFrameId)\n    }\n  }, [draw])\n\n  return <canvas ref={canvasRef} {...rest}/>\n}\n\nexport default Canvas\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEhD,MAAMC,MAAM,GAAGC,KAAK,IAAI;EAAAC,EAAA;EAEtB,MAAM;IAAEC,IAAI;IAAE,GAAGC;EAAK,CAAC,GAAGH,KAAK;EAC/B,MAAMI,SAAS,GAAGT,MAAM,CAAC,IAAI,CAAC;EAE9BC,SAAS,CAAC,MAAM;IAEd,MAAMS,MAAM,GAAGD,SAAS,CAACE,OAAO;IAChC,MAAMC,OAAO,GAAGF,MAAM,CAACG,UAAU,CAAC,IAAI,CAAC;IACvC,IAAIC,UAAU,GAAG,CAAC;IAClB,IAAIC,gBAAgB;IAEpB,MAAMC,MAAM,GAAGA,CAAA,KAAM;MACnBF,UAAU,EAAE;MACZP,IAAI,CAACK,OAAO,EAAEE,UAAU,CAAC;MACzBC,gBAAgB,GAAGE,MAAM,CAACC,qBAAqB,CAACF,MAAM,CAAC;IACzD,CAAC;IACDA,MAAM,EAAE;IAER,OAAO,MAAM;MACXC,MAAM,CAACE,oBAAoB,CAACJ,gBAAgB,CAAC;IAC/C,CAAC;EACH,CAAC,EAAE,CAACR,IAAI,CAAC,CAAC;EAEV,oBAAOJ,OAAA;IAAQiB,GAAG,EAAEX,SAAU;IAAA,GAAKD;EAAI;IAAAa,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QAAG;AAC5C,CAAC;AAAAlB,EAAA,CAzBKF,MAAM;AAAAqB,EAAA,GAANrB,MAAM;AA2BZ,eAAeA,MAAM;AAAA,IAAAqB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}